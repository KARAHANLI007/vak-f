<section class="bg-white page-content-bg rounded-[15px] p-6 h-full flex flex-col">
    <div class="flex justify-between items-center mb-4">
        <h1 class="text-2xl font-bold">Gönüllü Listesi</h1>
        <button id="open-gonullu-modal-btn" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors shadow-sm flex items-center">
            <i class="fas fa-user-plus mr-2"></i>Yeni Gönüllü Ekle
        </button>
    </div>

    <div class="flex flex-col md:flex-row items-center gap-4 mb-6">
        <div class="relative w-full md:flex-1">
            <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            <input type="text" placeholder="İsme göre ara..." class="border border-gray-300 rounded-lg pl-10 pr-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-green-500">
        </div>
        <select class="border border-gray-300 rounded-lg px-3 py-2 w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-green-500">
            <option>Tüm Durumlar</option>
            <option>Aktif</option>
            <option>Pasif</option>
        </select>
        <select class="border border-gray-300 rounded-lg px-3 py-2 w-full md:w-auto focus:outline-none focus:ring-2 focus:ring-green-500">
            <option>Tüm Yetkinlikler</option>
            <option>Organizasyon</option>
            <option>Sosyal Medya</option>
            <option>Tasarım</option>
        </select>
        <button class="bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-800 w-full md:w-auto">
            <i class="fas fa-file-export mr-2"></i>Dışa Aktar
        </button>
    </div>

    <div class="flex-1 overflow-x-auto">
        <table class="w-full text-left">
            <thead class="bg-gray-50 border-b">
                <tr>
                    <th class="p-3 text-sm font-semibold text-gray-600">Ad Soyad</th>
                    <th class="p-3 text-sm font-semibold text-gray-600">İletişim</th>
                    <th class="p-3 text-sm font-semibold text-gray-600">Katılım Tarihi</th>
                    <th class="p-3 text-sm font-semibold text-gray-600">Yetkinlikler</th>
                    <th class="p-3 text-sm font-semibold text-gray-600">Durum</th>
                    <th class="p-3 text-sm font-semibold text-gray-600 text-right">İşlemler</th>
                </tr>
            </thead>
            <tbody class="divide-y">
                </tbody>
        </table>
    </div>
</section>

<div id="add-gonullu-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 hidden">
    <div class="modal-content bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col">
        <div class="flex justify-between items-center p-5 border-b">
            <h2 class="text-xl font-semibold text-slate-700">Yeni Gönüllü Kaydı</h2>
            <button class="close-gonullu-modal-btn text-gray-400 hover:text-gray-600"><i class="fas fa-times fa-lg"></i></button>
        </div>
        <div class="p-6 overflow-y-auto">
            <form id="add-gonullu-form">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="md:col-span-1 flex flex-col items-center">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Profil Fotoğrafı</label>
                        <div class="relative">
                            <img id="gonullu-image-preview" src="https://via.placeholder.com/128" class="w-32 h-32 rounded-full object-cover border-4 border-gray-200">
                            <label for="gonullu-picture-input" class="absolute bottom-0 right-0 bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center cursor-pointer hover:bg-green-700"><i class="fas fa-camera"></i></label>
                            <input type="file" id="gonullu-picture-input" class="hidden" accept="image/*">
                        </div>
                    </div>
                    <div class="md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                        <div><label for="gonullu-ad-soyad" class="block text-sm font-medium text-gray-700">Ad Soyad</label><input type="text" name="gonullu-ad-soyad" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"></div>
                        <div><label for="gonullu-telefon" class="block text-sm font-medium text-gray-700">Telefon</label><input type="tel" name="gonullu-telefon" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"></div>
                        <div><label for="gonullu-dogum-tarihi" class="block text-sm font-medium text-gray-700">Doğum Tarihi</label><input type="date" name="gonullu-dogum-tarihi" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"></div>
                        <div><label for="gonullu-email" class="block text-sm font-medium text-gray-700">E-posta</label><input type="email" name="gonullu-email" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"></div>
                    </div>
                </div>
                <hr class="my-6">
                <h3 class="text-lg font-semibold text-slate-600 mb-4">Gönüllülük Bilgileri</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Yetkinlikler</label>
                        <div class="grid grid-cols-2 gap-2 border p-3 rounded-md">
                            <label class="flex items-center"><input type="checkbox" name="yetkinlikler" value="Organizasyon" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Organizasyon</span></label>
                            <label class="flex items-center"><input type="checkbox" name="yetkinlikler" value="Sosyal Medya" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Sosyal Medya</span></label>
                            <label class="flex items-center"><input type="checkbox" name="yetkinlikler" value="Tasarım" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Tasarım</span></label>
                            <label class="flex items-center"><input type="checkbox" name="yetkinlikler" value="Eğitim" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Eğitim</span></label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Müsaitlik Durumu</label>
                        <div class="grid grid-cols-2 gap-2 border p-3 rounded-md">
                            <label class="flex items-center"><input type="checkbox" name="musaitlik" value="Hafta İçi" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Hafta İçi</span></label>
                            <label class="flex items-center"><input type="checkbox" name="musaitlik" value="Hafta Sonu" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Hafta Sonu</span></label>
                            <label class="flex items-center"><input type="checkbox" name="musaitlik" value="Akşamları" class="h-4 w-4 text-green-600 rounded mr-2"><span class="text-sm">Akşamları</span></label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="flex justify-end items-center gap-3 p-5 border-t bg-gray-50 rounded-b-2xl">
            <button class="close-gonullu-modal-btn bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300">İptal</button>
            <button type="submit" form="add-gonullu-form" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">Gönüllüyü Kaydet</button>
        </div>
    </div>
</div>

<style>
    #add-gonullu-modal { transition: opacity 0.3s ease; }
</style>

<script>
 function initGonulluListesi() {
    const modal = document.getElementById('add-gonullu-modal');
    const openModalBtn = document.getElementById('open-gonullu-modal-btn');
    const closeModalBtns = document.querySelectorAll('.close-gonullu-modal-btn');
    const addGonulluForm = document.getElementById('add-gonullu-form');
    const imagePreview = document.getElementById('gonullu-image-preview');
    const pictureInput = document.getElementById('gonullu-picture-input');

    const openModal = () => modal.classList.remove('hidden');
    const closeModal = () => {
        modal.classList.add('hidden');
        addGonulluForm.reset();
        imagePreview.src = 'https://via.placeholder.com/128';
    };

    if(openModalBtn) openModalBtn.addEventListener('click', openModal);
    closeModalBtns.forEach(btn => btn.addEventListener('click', closeModal));
    if(modal) modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
    
    if(pictureInput) pictureInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) imagePreview.src = URL.createObjectURL(file);
    });

    if(addGonulluForm) addGonulluForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const formData = new FormData(addGonulluForm);
        const yetkinlikler = formData.getAll('yetkinlikler');
        const musaitlik = formData.getAll('musaitlik');
        const gonulluVerileri = Object.fromEntries(formData.entries());
        gonulluVerileri.yetkinlikler = yetkinlikler;
        gonulluVerileri.musaitlik = musaitlik;

        console.log("Kaydedilecek Gönüllü Verileri:", gonulluVerileri);
        alert(`${gonulluVerileri['gonullu-ad-soyad']} adlı gönüllü kaydediliyor!`);
        closeModal();
    });
}

// Örnek loadPage çağrısı
function loadPage(pageName) {
    if(pageName === 'gonullu-listesi') {
        initGonulluListesi();
    }
}
</script>